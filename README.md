# 加密货币费率监控系统

## 项目概述
这是一个用于监控加密货币期货合约资金费率的系统，主要针对币安(Binance)交易所。该系统能够实时跟踪指定交易对的现货价格、期货价格、期现溢价率、资金费率和持仓量，并以可视化图表展示历史数据变化。

## 主要功能
- 同时监控两个自定义交易对
- 实时显示现货价格、期货价格、期现溢价率、资金费率和持仓量
- 提供图表可视化展示数据变化趋势
- 统计并展示全市场资金费率最高/最低的交易对
- 跟踪资金费率变化最快的交易对
- 自动加载和展示历史数据（过去4小时）

## 系统组成
系统由两个主要组件构成：
1. **Web界面(app.py)** - 使用Streamlit构建的交互式Web界面，用于数据展示和监控
2. **数据采集服务(fee_stac)** - 定期采集全市场资金费率数据，并进行统计分析

## 安装步骤
1. 确保已安装Python 3.7+
2. 克隆或下载本项目代码
3. 安装依赖库:
```bash
pip install streamlit pandas plotly requests schedule
```

## 使用说明
1. 启动数据采集服务:
```bash
python fee_stac
```

2. 启动Web界面:
```bash
streamlit run app.py
```

3. 在浏览器中访问Web界面(默认为 http://localhost:8501)

4. 在侧边栏中输入要监控的交易对（例如：BTCUSDT, ETHUSDT），然后点击"开始监控"按钮

## 数据说明
- **现货价格**: 交易对在现货市场的最新价格
- **期货价格**: 交易对在永续合约市场的最新价格
- **期现溢价率**: (期货价格-现货价格)/现货价格×100%
- **资金费率**: 永续合约的资金费率，正值表示多头向空头支付，负值表示空头向多头支付
- **持仓量**: 永续合约的总持仓数量

## 统计数据更新
系统每5分钟自动更新一次全市场费率统计数据，包括:
- 费率最高的交易对
- 费率最低的交易对
- 费率上升最快的交易对
- 费率下降最快的交易对

## 注意事项
- 数据来源于币安API，需要确保网络能够正常访问币安的API服务
- 系统默认显示过去4小时的历史数据
- 数据更新频率为10秒一次
